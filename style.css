
:root {
    --color-primario: #004d40; /* Verde azulado oscuro */
    --color-secundario: #00796b; /* Verde azulado medio */
    --color-fondo: #fdfdfd; /* Blanco ligeramente roto */
    --color-texto: #333333;
    --fuente-titulo: 'Merriweather', serif;
    --fuente-cuerpo: 'Roboto', sans-serif;
}

body {
    font-family: var(--fuente-cuerpo);
    margin: 0;
    padding: 0;
    background-color: #37474f;
    background-image: repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,255,255,0.02) 35px, rgba(255,255,255,0.02) 70px);
    color: var(--color-texto);
    font-size: 11pt; /* Tamaño base profesional */
    line-height: 1.65;
}

.cv-container {
    max-width: 900px;
    margin: 30px auto;
    background-color: var(--color-fondo);
    box-shadow: 0 0 20px rgba(0,0,0,0.15);
    min-height: 1200px; /* Para que el fondo no se corte */
}

/* --- CABECERA --- */
.header-main {
    padding: 30px 40px;
    background-color: var(--color-fondo);
    border-bottom: 3px solid var(--color-secundario);
    display: flex;
    align-items: center;
    gap: 30px;
    position: relative; /* Contexto para el botón de descarga */
}

.header-main h1 {
    font-family: var(--fuente-titulo);
    font-size: 28pt;
    margin: 0 0 5px 0;
    color: var(--color-primario);
    letter-spacing: 1px;
}

.profile-picture {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover; /* Prevents the image from being stretched */
    border: 3px solid var(--color-secundario);
}

.contact-info {
    font-size: 10pt;
    color: #555;
    font-weight: 500;
    padding: 0;
    margin: 0;
    list-style-type: none;
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
}

.contact-info li {
    display: flex;
    align-items: center;
    gap: 8px;
}

.contact-info i {
    color: var(--color-secundario);
    font-size: 0.9em;
}

.contact-info a {
    color: inherit;
    text-decoration: none;
}

.contact-info a:hover {
    text-decoration: underline;
}

/* --- BOTÓN DE DESCARGA --- */
.download-btn {
    position: absolute;
    top: 30px;
    right: 40px;
    padding: 10px 20px;
    background-color: var(--color-secundario);
    color: white;
    border: none;
    border-radius: 5px;
    font-family: var(--fuente-cuerpo);
    font-weight: 500;
    font-size: 10pt;
    cursor: pointer;
    transition: background-color 0.2s ease-in-out;
}

.download-btn:hover {
    background-color: var(--color-primario);
}

/* --- COLUMNAS PRINCIPALES --- */
.columns-container {
    display: flex;
    padding: 20px 40px;
}

.left-column {
    width: 65%;
    padding-right: 30px;
}

.right-column {
    width: 35%;
    border-left: 1px solid #dee2e6;
    padding-left: 30px;
}

/* Anula la justificación de texto en la columna derecha para evitar espaciado extraño en listas cortas. */
.right-column li {
    text-align: left;
}

/* --- ESTILOS COMUNES DE SECCIÓN --- */
h2 {
    font-family: var(--fuente-titulo);
    font-size: 14pt;
    color: var(--color-primario);
    border-bottom: 2px solid var(--color-secundario);
    padding-bottom: 8px;
    margin-top: 20px;
    margin-bottom: 15px;
    font-weight: 700;
}

/* Evita el margen superior en el primer título de cada columna para un mejor alineamiento */
section:first-child h2 {
    margin-top: 0;
}

h3 {
    font-family: var(--fuente-titulo);
    font-size: 11pt;
    color: var(--color-secundario);
    margin-top: 20px;
    margin-bottom: 10px;
}

li {
    margin-bottom: 8px;
    text-align: justify;
}

/* --- Estilo de listas con subtítulos (h3) --- */
h3 + ul {
    list-style: none;
    padding-left: 0;
}

h3 + ul li {
    position: relative;
    padding-left: 1.2em; /* Crea espacio para el bullet */
}
h3 + ul li::before {
    content: '▪';
    position: absolute;
    left: 0;
    color: var(--color-secundario); /* Usa el color de acento del tema */
}

p {
    margin: 0 0 10px 0;
    text-align: justify;
}

/* --- SECCIÓN DE EXPERIENCIA --- */
.experience-section {
    padding: 20px 40px 40px;
}

.experience-section h2 {
    margin-top: 0;
}

.job {
    margin-bottom: 20px;
}

.job h3 {
    border-bottom: 1px solid #f0f0f0;
    padding-bottom: 5px;
    margin-top: 0;
}

/* --- ANIMACIÓN DE SCROLL --- */
.fade-in-section {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 1s ease-in-out, transform 1s ease-in-out;
}

.fade-in-section.is-visible {
    opacity: 1;
    transform: translateY(0);
}

/* --- DISEÑO RESPONSIVE --- */
@media (max-width: 900px) {
    body {
        background-color: var(--color-fondo);
        background-image: none;
    }
    .cv-container {
        width: 100%;
        margin: 0;
        min-height: auto;
        box-shadow: none;
    }
    .columns-container {
        flex-direction: column;
        padding: 20px;
    }
    .left-column, .right-column {
        width: auto;
        padding: 0;
        border: none;
    }
    .header-main {
        flex-direction: column;
        padding-bottom: 20px;
    }
    .download-btn {
        position: static;
        margin-top: 20px;
        width: 80%;
    }
    .header-text {
        text-align: center;
    }
    .contact-info {
        justify-content: center;
    }
    .header-main h1 {
        font-size: 24pt;
    }
}

/* --- ESTILOS DE IMPRESIÓN --- */
@media print {
    /* 1. Configuración de página y Reset general */
    @page {
        margin: 1.5cm; /* Margen de página estándar */
    }
    html, body {
        background-color: #ffffff !important;
        color: #000000 !important;
        font-size: 9.5pt;
        margin: 0;
        padding: 0;
        height: auto !important;
        overflow: visible !important;
    }

    /* 2. Ocultar elementos y ajustar colores para impresión */
    .download-btn, body > script {
        display: none !important;
    }
    h1, h2, h3, a, .contact-info {
        color: #000 !important;
    }
    .header-main, h2, .profile-picture, .right-column, .job h3 {
        border-color: #ccc !important;
    }
    .header-main {
        background-color: transparent !important;
    }
    a {
        text-decoration: none;
    }

    /* 3. Layout de Impresión: Mostrar solo cabecera y experiencia */
    .cv-container {
        box-shadow: none;
        border: none;
        width: 100%;
        min-height: 0; /* Reset min-height for print */
    }

    /* 4. Forzar salto de página para un PDF de dos páginas */
    .experience-section {
        break-before: page;
    }

    /* 5. Ajustar espaciado para compactar el contenido */
    .columns-container, .experience-section { padding: 0 40px; }
    .item, .job { margin-bottom: 10px; }
    h2 { margin-top: 15px; margin-bottom: 10px; padding-bottom: 5px; }
    li { margin-bottom: 4px; }
    p { margin-bottom: 8px; }
    .header-main { padding-top: 0; padding-bottom: 15px; }

    /* 6. Control de saltos de página internos (Solución Robusta) */
    /* Se elimina 'page-break-inside: avoid' de los elementos grandes como .job */
    /* para prevenir que el navegador los omita si no caben en una página. */
    /* Es preferible que un trabajo se divida entre páginas a que desaparezca. */
    .columns-container section, .item {
        page-break-inside: avoid; /* Mantener secciones cortas juntas */
    }
    p, ul, .job {
        page-break-inside: auto; /* Permitir que párrafos y trabajos largos se corten */
    }
}
